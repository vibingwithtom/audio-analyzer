<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <h1>Audio File Analyzer</h1>

    <div class="upload-section">
      <input type="file" id="audioFile" accept="audio/*" />
      <label for="audioFile" class="upload-btn">Select Local File</label>

    </div>

    <div class="criteria-section">
      <h3>Target Criteria (Optional)</h3>
      <div class="criteria-grid">
        <div class="criteria-item">
          <label>File Type:</label>
          <select id="targetFileType">
            <option value="">Any</option>
            <option value="WAV (PCM)">WAV (PCM)</option>
          </select>
        </div>
        <div class="criteria-item">
          <label>Sample Rate:</label>
          <select id="targetSampleRate">
            <option value="">Any</option>
            <option value="44100">44.1 kHz</option>
            <option value="48000">48 kHz</option>
            <option value="96000">96 kHz</option>
            <option value="192000">192 kHz</option>
          </select>
        </div>
        <div class="criteria-item">
          <label>Bit Depth:</label>
          <select id="targetBitDepth">
            <option value="">Any</option>
            <option value="16">16-bit</option>
            <option value="24">24-bit</option>
            <option value="32">32-bit</option>
          </select>
        </div>
        <div class="criteria-item">
          <label>Channels:</label>
          <select id="targetChannels">
            <option value="">Any</option>
            <option value="1">Mono</option>
            <option value="2">Stereo</option>
          </select>
        </div>
      </div>
    </div>

    <div class="player-section" id="playerSection" style="display: none;">
      <audio id="audioPlayer" controls></audio>
      <button id="playPause" class="control-btn">Play</button>
    </div>

    <div class="results-section" id="resultsSection" style="display: none;">
      <h3>File Analysis</h3>
      <div class="results-grid">
        <div class="result-item" id="fileTypeRow">
          <span class="label">File Type:</span>
          <span id="fileType" class="value"></span>
        </div>
        <div class="result-item" id="sampleRateRow">
          <span class="label">Sample Rate:</span>
          <span id="sampleRate" class="value"></span>
        </div>
        <div class="result-item" id="bitDepthRow">
          <span class="label">Bit Depth:</span>
          <span id="bitDepth" class="value"></span>
        </div>
        <div class="result-item" id="channelsRow">
          <span class="label">Channels:</span>
          <span id="channels" class="value"></span>
        </div>
        <div class="result-item">
          <span class="label">Duration:</span>
          <span id="duration" class="value"></span>
        </div>
        <div class="result-item">
          <span class="label">File Size:</span>
          <span id="fileSize" class="value"></span>
        </div>
      </div>

      <div class="advanced-analysis-section">
        <button id="advancedAnalysisBtn" class="advanced-btn">
          üîç Advanced Audio Level Analysis
        </button>
        <div id="advancedProgress" class="progress-section" style="display: none;">
          <div class="progress-bar">
            <div id="progressFill" class="progress-fill"></div>
          </div>
          <p id="progressText">Analyzing audio levels...</p>
          <button id="cancelAnalysis" class="cancel-btn">Cancel</button>
        </div>
      </div>
    </div>

    <div class="advanced-results-section" id="advancedResultsSection" style="display: none;">
      <h3>Audio Level Analysis</h3>
      <div class="advanced-results-grid">
        <div class="result-item" id="peakLevelRow">
          <span class="label">Peak Level:</span>
          <span id="peakLevel" class="value"></span>
        </div>
        <div class="result-item" id="noiseFloorRow">
          <span class="label">Noise Floor:</span>
          <span id="noiseFloor" class="value"></span>
        </div>
        <div class="result-item" id="normalizationRow">
          <span class="label">Normalization:</span>
          <span id="normalization" class="value"></span>
        </div>
      </div>
    </div>
  </div>

  <p id="status" class="status-message"></p>

  <script src="popup.js"></script>
</body>
</html>